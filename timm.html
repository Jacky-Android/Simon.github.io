<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

  <link rel="shortcut icon" href="https://avatars.githubusercontent.com/u/55181594?v=4">

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>Timm-地表最强backbone整合&nbsp;|&nbsp;Simon’s Blogs</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="Timm-地表最强backbone整合">
  
  
    <meta property="og:image" content="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🤙&lt;/text&gt;&lt;/svg&gt;">
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
        <span><img class="inline-img-icon" src="https://avatars.githubusercontent.com/u/55181594?v=4"></span>&nbsp;
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="road.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🤑&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>2024年深度学习学习路线</span>
        </div>
      </a>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;😀&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>About me</span>
        </div>
      </a>
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="12.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🤏&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>训练神经网络的技巧</span>
        </div>
      </a>
    
  
    
  
    
  
</nav>
  <header class="Header">
    
    <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
    
      <div class="Header__Icon">
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🤙&lt;/text&gt;&lt;/svg&gt;"></span>
      </div>
    
    <h1 class="Header__Title">Timm-地表最强backbone整合</h1>
    
  </header>
  <article id="https://www.notion.so/7025f8e64f844bcaa7fa2511db1252a8" class="PageRoot"><ul id="https://www.notion.so/d14ca3ea8a454d0bb024e939b4a8fdbd" class="ColorfulBlock ColorfulBlock--ColorGray TableOfContents"><li class="TableOfContents__Item"><a href="#https://www.notion.so/5ac43717289f431c84698a0a789cd66c"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">什么是 timm 库？</strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/57f4649fbcc1499781201b3e57fdebf3"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">模型方面</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/39bb6eccb01f493681678f9f8fd54a2a"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">搜索模型</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/10b28ccfe9f64a1c8a4d9536f385f080"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">创建模型</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/2e914f515c0f4590aea74a56c3d99516"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">例子使用timm迁移学习分类，acc=0.96  </span></span></div></a></li></ul><h1 id="https://www.notion.so/5ac43717289f431c84698a0a789cd66c" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/5ac43717289f431c84698a0a789cd66c"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">什么是 timm 库？</strong></span></span></h1><div id="https://www.notion.so/16445ebfc00b4322a1bec195519d6d62" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">旨在将各种 SOTA 模型整合在一起，并具有复现 ImageNet 训练结果的能力。</span></span></p></div><div id="https://www.notion.so/64f59252c1e4485bb66d08d1b49ec835" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">作者：Ross Wightman，</strong></span><span class="SemanticString">来自加拿大温哥华。首先致敬大佬！</span></span></p></div><div id="https://www.notion.so/d6e8db4525ac406795ee2844cd9e0809" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">timm 库</strong></span><span class="SemanticString">实现了</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">最新的</strong></span><span class="SemanticString">几乎</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">所有的具有影响力</strong></span><span class="SemanticString">的</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">视觉</strong></span><span class="SemanticString">模型，它不仅提供了模型的权重，还提供了一个很棒的</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">分布式训练</strong></span><span class="SemanticString">和</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">评估</strong></span><span class="SemanticString">的</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">代码框架</strong></span><span class="SemanticString">，方便后人开发。更难能可贵的是它还在</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">不断地更新</strong></span><span class="SemanticString">迭代</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">新的训练方法，新的视觉模型</strong></span><span class="SemanticString">和</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">优化代码</strong></span><span class="SemanticString">。</span></span></p></div><blockquote id="https://www.notion.so/d83059cdd5514253a3f789ab8b790542" class="ColorfulBlock ColorfulBlock--ColorDefault Quote"><span class="SemanticStringArray"><span class="SemanticString">作者github链接：</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/huggingface/pytorch-image-models">https://github.com/huggingface/pytorch-image-models</a></span></span></blockquote><div id="https://www.notion.so/b88c3fc36b0a4756ac710230e5ecc004" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Py</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">T</strong></span><span class="SemanticString">orch</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Im</strong></span><span class="SemanticString">age</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">M</strong></span><span class="SemanticString">odels，简称 timm，是一个巨大的 </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">PyTorch </strong></span><span class="SemanticString">代码集合，包括了一系列：</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/d4228fa5feda498ca45487026a0a1b78" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">image models</strong></span></span></li><li id="https://www.notion.so/35f8560689dc4e29b91dd7874bed9496" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">layers</strong></span></span></li><li id="https://www.notion.so/c9515f455ba341768d3bbdeef6a64331" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">utilities</strong></span></span></li><li id="https://www.notion.so/85c2411dddc141779804467eb3c76063" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">optimizers</strong></span></span></li><li id="https://www.notion.so/936c9064fdea49be9d1511497d0c0b09" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">schedulers</strong></span></span></li><li id="https://www.notion.so/2db5e15a4e7245afaf7c272475bc0fd6" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">data-loaders / augmentations</strong></span></span></li><li id="https://www.notion.so/8ebd23bb9bba49e1b654cb963e1bf075" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">training / validation scripts</strong></span></span></li></ul><div id="https://www.notion.so/d931fdb0cf114c74b8703493d1a97615" class="ColorfulBlock ColorfulBlock--BgGray Callout"><div class="Callout__Icon"><div class="Icon">💡</div></div><p class="Callout__Content"><span class="SemanticStringArray"><span class="SemanticString">Timm==0.9.0版本Swim TransFormer类似支持features_only，可以提取stage特征</span></span></p></div><h1 id="https://www.notion.so/57f4649fbcc1499781201b3e57fdebf3" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/57f4649fbcc1499781201b3e57fdebf3"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">模型方面</span></span></h1><ul class="BulletedListWrapper"><li id="https://www.notion.so/e1eac21ff75d4c70baafc20c889e00a9" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">CNN模型：</strong></span></span></li></ul><div id="https://www.notion.so/2cbf98a820794e95b2699eab5cd2de3e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">添加了经典的 </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">NFNet，RegNet，TResNet，Lambda Networks，GhostNet，ByoaNet 等以及 TResNet, MobileNet-V3</strong></span><span class="SemanticString">, ViT 的 ImageNet-21k 训练的权重，EfficientNet-V2 ImageNet-1k，ImageNet-21k 训练的权重。</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/c4c5573c551a4073a040662059b10288" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Transformer模型：</strong></span></span></li></ul><div id="https://www.notion.so/e2dc10585bf844ff8785d87f268c59e9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">添加了经典的 </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">TNT，Swin Transformer，PiT，Bottleneck Transformers，Halo Nets，CoaT，CaiT，LeViT, Visformer, ConViT，Twins，BiT</strong></span><span class="SemanticString"> 等。</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/4987d8f8ede04fafbbb9ef4c887aa3ef" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">MLP模型：</strong></span></span></li></ul><div id="https://www.notion.so/4a224df8e0604e088564bde2d939ac72" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">添加了经典的</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"> MLP-Mixer，ResMLP，gMLP</strong></span><span class="SemanticString">等。</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/e4234de6404d40ecb8d4954038f5fe05" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">优化器层面：</strong></span></span></li></ul><div id="https://www.notion.so/fd549c527f024c3494e687bb1e2f55af" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">更新了</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Adabelief optimizer、Lion</strong></span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/3d0c88e20a924e19a0e0e8646f6687c6" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">layers操作方面：</strong></span></span></li></ul><div id="https://www.notion.so/5cce621ebe2b46079d3d5719727d4f7b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">adaptive_avgmax_pool2d, select_adaptive_pool2d, AdaptiveAvgMaxPool2d, SelectAdaptivePool2d</strong></span><span class="SemanticString">等</span></span></p></div><h2 id="https://www.notion.so/39bb6eccb01f493681678f9f8fd54a2a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/39bb6eccb01f493681678f9f8fd54a2a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">搜索模型</span></span></h2><div id="https://www.notion.so/763d2a6a4d6f4e04a14242d503165052" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">timm.list_models(&#x27;*resnet34*&#x27;,pretrained=True)</span></span></p></div><pre id="https://www.notion.so/3b94c7a35d7e4032a93ae03a64b0077d" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">import</span> timm
<span class="token keyword">from</span> torchinfo <span class="token keyword">import</span> summary
<span class="token keyword">print</span><span class="token punctuation">(</span>timm<span class="token punctuation">.</span>list_models<span class="token punctuation">(</span><span class="token string">'*resnet34*'</span><span class="token punctuation">,</span>pretrained<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#output</span>
<span class="token comment">##['legacy_seresnet34', 'resnet34', 'resnet34d', 'seresnet34', 'skresnet34']</span></span></span></span></code></pre><div id="https://www.notion.so/f72ee8f0c78443939bcd5bd340866293" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/10b28ccfe9f64a1c8a4d9536f385f080" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/10b28ccfe9f64a1c8a4d9536f385f080"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">创建模型</span></span></h2><div id="https://www.notion.so/b2517a64398a4574aa8b2276fb8f84e6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">正如您可能从标题中猜到的那样，在本教程中，我们将查看</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">create_model</code></span><span class="SemanticString">内部函数</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">timm</code></span><span class="SemanticString">以及</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">**kwargs</code></span><span class="SemanticString">可以传递给该函数的所有内容。</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/3270173c183c4873b08e1d8d57b0b9cd" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">pretrained</strong></span><span class="SemanticString">：要创建预训练模型，只需在 timm.create_model 函数中输入 pretrained=True 关键字参数和模型名称即可。</span></span></li><li id="https://www.notion.so/2afb9a1796be434a9542b559c2919160" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">features_only：</strong></span><span class="SemanticString">模型都支持在调用 create_model 时使用 features_only=True 参数，以返回在每个步长从最深图层提取特征图的网络。</span></span></li><li id="https://www.notion.so/92b469a81a0e47e7ba43c0021f32f0e9" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">out_indices：</strong></span><span class="SemanticString">out_indices=[...] 参数指定要提取特征的层的索引（下面代码取所有的stage）。</span></span></li><li id="https://www.notion.so/f0a472ea62d845f1af8cbdff0ccd0402" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">img_size</strong></span><span class="SemanticString">：输入图像大小。</span></span></li><li id="https://www.notion.so/841b8ea24bd44264b86add01bde0e0fb" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">num_classes：</strong></span><span class="SemanticString">类别数。</span></span></li><li id="https://www.notion.so/a5fd5ac755e24dca9482ad9415617623" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">in_chans：</strong></span><span class="SemanticString">图像输入通道数，通常是3（RGB )。</span></span></li></ul><pre id="https://www.notion.so/9c20f0531d084f46ad0e1ae4d7efdb02" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span>timm<span class="token punctuation">.</span>create_model<span class="token punctuation">(</span><span class="token string">'convnextv2_small'</span><span class="token punctuation">,</span>pretrained<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>
features_only<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> output_stride<span class="token operator">=</span><span class="token number">32</span><span class="token punctuation">,</span>out_indices<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>img_size<span class="token operator">=</span><span class="token number">512</span><span class="token punctuation">,</span>num_classes<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span>
in_chans<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span></span></span></span></code></pre><div id="https://www.notion.so/aafe427da07d4e79b71b62b1f479fd15" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><h1 id="https://www.notion.so/2e914f515c0f4590aea74a56c3d99516" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/2e914f515c0f4590aea74a56c3d99516"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">例子使用timm迁移学习分类，acc=0.96  </span></span></h1><div id="https://www.notion.so/9ff99865fd7a4ec49890e2150174e7bc" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://www.kaggle.com/code/dyiyacao/how-to-use-timm-import-model">https://www.kaggle.com/code/dyiyacao/how-to-use-timm-import-model</a></span><span class="SemanticString"> </span></span></p></div></article>
  <footer class="Footer">
  <div>&copy; Simon’s Blogs 2022</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>