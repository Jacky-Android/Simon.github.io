<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

  <link rel="shortcut icon" href="https://avatars.githubusercontent.com/u/55181594?v=4">

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>å¯è§†åŒ–ç½‘ç»œç»“æ„&nbsp;|&nbsp;Simonâ€™s Blogs</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="å¯è§†åŒ–ç½‘ç»œç»“æ„">
  
  
    <meta property="og:image" content="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ”·&lt;/text&gt;&lt;/svg&gt;">
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
        <span><img class="inline-img-icon" src="https://avatars.githubusercontent.com/u/55181594?v=4"></span>&nbsp;
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="road.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ¤‘&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>2024å¹´æ·±åº¦å­¦ä¹ å­¦ä¹ è·¯çº¿</span>
        </div>
      </a>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ˜€&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>About me</span>
        </div>
      </a>
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="12.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ¤&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>è®­ç»ƒç¥ç»ç½‘ç»œçš„æŠ€å·§</span>
        </div>
      </a>
    
  
</nav>
  <header class="Header">
    
    <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
    
      <div class="Header__Icon">
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ”·&lt;/text&gt;&lt;/svg&gt;"></span>
      </div>
    
    <h1 class="Header__Title">å¯è§†åŒ–ç½‘ç»œç»“æ„</h1>
    
  </header>
  <article id="https://www.notion.so/36dcbc23bbc14fcf95b33813db371b77" class="PageRoot"><h1 id="https://www.notion.so/7e71c6d14c7e4a4e94b3f955e7cc64d9" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/7e71c6d14c7e4a4e94b3f955e7cc64d9"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">å¯è§†åŒ–ç½‘ç»œç»“æ„</span></span></h1><div id="https://www.notion.so/cfe14a4a0ae74596b9aafc0940f5faf7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">éšç€æ·±åº¦ç¥ç»ç½‘ç»œåšçš„çš„å‘å±•ï¼Œç½‘ç»œçš„ç»“æ„è¶Šæ¥è¶Šå¤æ‚ï¼Œæˆ‘ä»¬ä¹Ÿå¾ˆéš¾ç¡®å®šæ¯ä¸€å±‚çš„è¾“å…¥ç»“æ„ï¼Œè¾“å‡ºç»“æ„ä»¥åŠå‚æ•°ç­‰ä¿¡æ¯ï¼Œè¿™æ ·å¯¼è‡´æˆ‘ä»¬å¾ˆéš¾åœ¨çŸ­æ—¶é—´å†…å®Œæˆdebugã€‚å› æ­¤æŒæ¡ä¸€ä¸ªå¯ä»¥ç”¨æ¥å¯è§†åŒ–ç½‘ç»œç»“æ„çš„å·¥å…·æ˜¯ååˆ†æœ‰å¿…è¦çš„ã€‚ç±»ä¼¼çš„åŠŸèƒ½åœ¨å¦ä¸€ä¸ªæ·±åº¦å­¦ä¹ åº“Kerasä¸­å¯ä»¥è°ƒç”¨ä¸€ä¸ªå«åš</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">model.summary()</code></span><span class="SemanticString">çš„APIæ¥å¾ˆæ–¹ä¾¿åœ°å®ç°ï¼Œè°ƒç”¨åå°±ä¼šæ˜¾ç¤ºæˆ‘ä»¬çš„æ¨¡å‹å‚æ•°ï¼Œè¾“å…¥å¤§å°ï¼Œè¾“å‡ºå¤§å°ï¼Œæ¨¡å‹çš„æ•´ä½“å‚æ•°ç­‰ï¼Œä½†æ˜¯åœ¨PyTorchä¸­æ²¡æœ‰è¿™æ ·ä¸€ç§ä¾¿åˆ©çš„å·¥å…·å¸®åŠ©æˆ‘ä»¬å¯è§†åŒ–æˆ‘ä»¬çš„æ¨¡å‹ç»“æ„ã€‚</span></span></p></div><div id="https://www.notion.so/38e1763e04c24a9a99cbd7dbfd21bee4" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œäººä»¬å¼€å‘äº†torchinfoå·¥å…·åŒ… ( torchinfoæ˜¯ç”±torchsummaryå’ŒtorchsummaryXé‡æ„å‡ºçš„åº“) ã€‚æœ¬èŠ‚æˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨torchinfoæ¥å¯è§†åŒ–ç½‘ç»œç»“æ„ã€‚</span></span></p></div><div id="https://www.notion.so/36475ec3c01849739e9097adb0d9377e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ç»è¿‡æœ¬èŠ‚çš„å­¦ä¹ ï¼Œä½ å°†æ”¶è·ï¼š</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/63f2afdf3a0b4085817d5f53875b7002" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">å¯è§†åŒ–ç½‘ç»œç»“æ„çš„æ–¹æ³•</span></span></li></ul><h2 id="https://www.notion.so/6efb161df14b4c45b6218c6e804ab68a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/6efb161df14b4c45b6218c6e804ab68a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">ä½¿ç”¨printå‡½æ•°æ‰“å°æ¨¡å‹åŸºç¡€ä¿¡æ¯</span></span></h2><div id="https://www.notion.so/ae4a48c1ac564c4ab42dcfd4c5f0e32c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ResNet18çš„ç»“æ„è¿›è¡Œå±•ç¤ºã€‚</span></span></p></div><pre id="https://www.notion.so/22e7695572f44a8e8f859ee90e104a3b" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">import</span> torchvision<span class="token punctuation">.</span>models <span class="token keyword">as</span> models
model <span class="token operator">=</span> models<span class="token punctuation">.</span>resnet18<span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></span></span></code></pre><div id="https://www.notion.so/f6b6a8aff46b4506bc21abe24c920d75" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">é€šè¿‡ä¸Šé¢çš„ä¸¤æ­¥ï¼Œæˆ‘ä»¬å°±å¾—åˆ°resnet18çš„æ¨¡å‹ç»“æ„ã€‚åœ¨å­¦ä¹ torchinfoä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆçœ‹ä¸‹ç›´æ¥print(model)çš„ç»“æœã€‚</span></span></p></div><pre id="https://www.notion.so/de7bbb6962a74848bab480306ecf85a5" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>ResNet<span class="token punctuation">(</span>
  <span class="token punctuation">(</span>conv1<span class="token punctuation">)</span><span class="token punctuation">:</span> Conv2d<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> kernel_size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span> stride<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> bias<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
  <span class="token punctuation">(</span>bn1<span class="token punctuation">)</span><span class="token punctuation">:</span> BatchNorm2d<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> eps<span class="token operator">=</span><span class="token number">1e-05</span><span class="token punctuation">,</span> momentum<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> affine<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> track_running_stats<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
  <span class="token punctuation">(</span>relu<span class="token punctuation">)</span><span class="token punctuation">:</span> ReLU<span class="token punctuation">(</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
  <span class="token punctuation">(</span>maxpool<span class="token punctuation">)</span><span class="token punctuation">:</span> MaxPool2d<span class="token punctuation">(</span>kernel_size<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> stride<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> dilation<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> ceil_mode<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
  <span class="token punctuation">(</span>layer1<span class="token punctuation">)</span><span class="token punctuation">:</span> Sequential<span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Bottleneck<span class="token punctuation">(</span>
      <span class="token punctuation">(</span>conv1<span class="token punctuation">)</span><span class="token punctuation">:</span> Conv2d<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> kernel_size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> stride<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> bias<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
      <span class="token punctuation">(</span>bn1<span class="token punctuation">)</span><span class="token punctuation">:</span> BatchNorm2d<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> eps<span class="token operator">=</span><span class="token number">1e-05</span><span class="token punctuation">,</span> momentum<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> affine<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> track_running_stats<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
      <span class="token punctuation">(</span>conv2<span class="token punctuation">)</span><span class="token punctuation">:</span> Conv2d<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> kernel_size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> stride<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> bias<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
      <span class="token punctuation">(</span>bn2<span class="token punctuation">)</span><span class="token punctuation">:</span> BatchNorm2d<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> eps<span class="token operator">=</span><span class="token number">1e-05</span><span class="token punctuation">,</span> momentum<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> affine<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> track_running_stats<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
      <span class="token punctuation">(</span>conv3<span class="token punctuation">)</span><span class="token punctuation">:</span> Conv2d<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">,</span> kernel_size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> stride<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> bias<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
      <span class="token punctuation">(</span>bn3<span class="token punctuation">)</span><span class="token punctuation">:</span> BatchNorm2d<span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">,</span> eps<span class="token operator">=</span><span class="token number">1e-05</span><span class="token punctuation">,</span> momentum<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> affine<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> track_running_stats<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
      <span class="token punctuation">(</span>relu<span class="token punctuation">)</span><span class="token punctuation">:</span> ReLU<span class="token punctuation">(</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
      <span class="token punctuation">(</span>downsample<span class="token punctuation">)</span><span class="token punctuation">:</span> Sequential<span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Conv2d<span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">,</span> kernel_size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> stride<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> bias<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
        <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span> BatchNorm2d<span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">,</span> eps<span class="token operator">=</span><span class="token number">1e-05</span><span class="token punctuation">,</span> momentum<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span> affine<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> track_running_stats<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
   <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">)</span>
  <span class="token punctuation">(</span>avgpool<span class="token punctuation">)</span><span class="token punctuation">:</span> AdaptiveAvgPool2d<span class="token punctuation">(</span>output_size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">(</span>fc<span class="token punctuation">)</span><span class="token punctuation">:</span> Linear<span class="token punctuation">(</span>in_features<span class="token operator">=</span><span class="token number">2048</span><span class="token punctuation">,</span> out_features<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">,</span> bias<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</span></span></span></code></pre><div id="https://www.notion.so/abc34f2a5f3a4ba88e28144c27e397f2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æˆ‘ä»¬å¯ä»¥å‘ç°å•çº¯çš„print(model)ï¼Œåªèƒ½å¾—å‡ºåŸºç¡€æ„ä»¶çš„ä¿¡æ¯ï¼Œæ—¢ä¸èƒ½æ˜¾ç¤ºå‡ºæ¯ä¸€å±‚çš„shapeï¼Œä¹Ÿä¸èƒ½æ˜¾ç¤ºå¯¹åº”å‚æ•°é‡çš„å¤§å°ï¼Œä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬å°±éœ€è¦ä»‹ç»å‡ºæˆ‘ä»¬ä»Šå¤©çš„ä¸»äººå…¬</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">torchinfo</code></span><span class="SemanticString">ã€‚</span></span></p></div><h2 id="https://www.notion.so/b0578cc93ae14b91af70221efa249563" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/b0578cc93ae14b91af70221efa249563"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"> ä½¿ç”¨torchinfoå¯è§†åŒ–ç½‘ç»œç»“æ„</span></span></h2><ul class="BulletedListWrapper"><li id="https://www.notion.so/aac4d6b7a2a34a25ad523f4edd2e3b84" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">torchinfoçš„å®‰è£…</strong></span></span></li></ul><pre id="https://www.notion.so/059c09fc7e7e430b9eeecbf233716fb0" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span># å®‰è£…æ–¹æ³•ä¸€
pip install torchinfo
# å®‰è£…æ–¹æ³•äºŒ
conda install -c conda-forge torchinfo
</span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/124fd841f22d4ff39285288042824e04" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">torchinfoçš„ä½¿ç”¨</strong></span></span></li></ul><div id="https://www.notion.so/33ca0a8b48544fa58ea190788412696d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">trochinfoçš„ä½¿ç”¨ä¹Ÿæ˜¯ååˆ†ç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">torchinfo.summary()</code></span><span class="SemanticString">å°±è¡Œäº†ï¼Œå¿…éœ€çš„å‚æ•°åˆ†åˆ«æ˜¯modelï¼Œinput_size[batch_size,channel,h,w]ï¼Œæ›´å¤šå‚æ•°å¯ä»¥å‚è€ƒ</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/TylerYep/torchinfo#documentation">documentation</a></span><span class="SemanticString">ï¼Œä¸‹é¢è®©æˆ‘ä»¬ä¸€èµ·é€šè¿‡ä¸€ä¸ªå®ä¾‹è¿›è¡Œå­¦ä¹ ã€‚</span></span></p></div><pre id="https://www.notion.so/476467604a1942acb648dff69b143d40" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">import</span> torchvision<span class="token punctuation">.</span>models <span class="token keyword">as</span> models
<span class="token keyword">from</span> torchinfo <span class="token keyword">import</span> summary
resnet18 <span class="token operator">=</span> models<span class="token punctuation">.</span>resnet18<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># å®ä¾‹åŒ–æ¨¡å‹</span>
summary<span class="token punctuation">(</span>resnet18<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">224</span><span class="token punctuation">,</span> <span class="token number">224</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 1ï¼šbatch_size 3:å›¾ç‰‡çš„é€šé“æ•° 224: å›¾ç‰‡çš„é«˜å®½</span>
</span></span></span></code></pre><ul class="BulletedListWrapper"><li id="https://www.notion.so/163ff830933b490f978b75c690361012" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">torchinfoçš„ç»“æ„åŒ–è¾“å‡º</strong></span></span></li></ul><pre id="https://www.notion.so/05867d4905fd4d27bfab9dc011b24a07" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>=========================================================================================
Layer (type:depth-idx)                   Output Shape              Param #
=========================================================================================
ResNet                                   --                        --
â”œâ”€Conv2d: 1-1                            [1, 64, 112, 112]         9,408
â”œâ”€BatchNorm2d: 1-2                       [1, 64, 112, 112]         128
â”œâ”€ReLU: 1-3                              [1, 64, 112, 112]         --
â”œâ”€MaxPool2d: 1-4                         [1, 64, 56, 56]           --
â”œâ”€Sequential: 1-5                        [1, 64, 56, 56]           --
â”‚    â””â”€BasicBlock: 2-1                   [1, 64, 56, 56]           --
â”‚    â”‚    â””â”€Conv2d: 3-1                  [1, 64, 56, 56]           36,864
â”‚    â”‚    â””â”€BatchNorm2d: 3-2             [1, 64, 56, 56]           128
â”‚    â”‚    â””â”€ReLU: 3-3                    [1, 64, 56, 56]           --
â”‚    â”‚    â””â”€Conv2d: 3-4                  [1, 64, 56, 56]           36,864
â”‚    â”‚    â””â”€BatchNorm2d: 3-5             [1, 64, 56, 56]           128
â”‚    â”‚    â””â”€ReLU: 3-6                    [1, 64, 56, 56]           --
â”‚    â””â”€BasicBlock: 2-2                   [1, 64, 56, 56]           --
â”‚    â”‚    â””â”€Conv2d: 3-7                  [1, 64, 56, 56]           36,864
â”‚    â”‚    â””â”€BatchNorm2d: 3-8             [1, 64, 56, 56]           128
â”‚    â”‚    â””â”€ReLU: 3-9                    [1, 64, 56, 56]           --
â”‚    â”‚    â””â”€Conv2d: 3-10                 [1, 64, 56, 56]           36,864
â”‚    â”‚    â””â”€BatchNorm2d: 3-11            [1, 64, 56, 56]           128
â”‚    â”‚    â””â”€ReLU: 3-12                   [1, 64, 56, 56]           --
â”œâ”€Sequential: 1-6                        [1, 128, 28, 28]          --
â”‚    â””â”€BasicBlock: 2-3                   [1, 128, 28, 28]          --
â”‚    â”‚    â””â”€Conv2d: 3-13                 [1, 128, 28, 28]          73,728
â”‚    â”‚    â””â”€BatchNorm2d: 3-14            [1, 128, 28, 28]          256
â”‚    â”‚    â””â”€ReLU: 3-15                   [1, 128, 28, 28]          --
â”‚    â”‚    â””â”€Conv2d: 3-16                 [1, 128, 28, 28]          147,456
â”‚    â”‚    â””â”€BatchNorm2d: 3-17            [1, 128, 28, 28]          256
â”‚    â”‚    â””â”€Sequential: 3-18             [1, 128, 28, 28]          8,448
â”‚    â”‚    â””â”€ReLU: 3-19                   [1, 128, 28, 28]          --
â”‚    â””â”€BasicBlock: 2-4                   [1, 128, 28, 28]          --
â”‚    â”‚    â””â”€Conv2d: 3-20                 [1, 128, 28, 28]          147,456
â”‚    â”‚    â””â”€BatchNorm2d: 3-21            [1, 128, 28, 28]          256
â”‚    â”‚    â””â”€ReLU: 3-22                   [1, 128, 28, 28]          --
â”‚    â”‚    â””â”€Conv2d: 3-23                 [1, 128, 28, 28]          147,456
â”‚    â”‚    â””â”€BatchNorm2d: 3-24            [1, 128, 28, 28]          256
â”‚    â”‚    â””â”€ReLU: 3-25                   [1, 128, 28, 28]          --
â”œâ”€Sequential: 1-7                        [1, 256, 14, 14]          --
â”‚    â””â”€BasicBlock: 2-5                   [1, 256, 14, 14]          --
â”‚    â”‚    â””â”€Conv2d: 3-26                 [1, 256, 14, 14]          294,912
â”‚    â”‚    â””â”€BatchNorm2d: 3-27            [1, 256, 14, 14]          512
â”‚    â”‚    â””â”€ReLU: 3-28                   [1, 256, 14, 14]          --
â”‚    â”‚    â””â”€Conv2d: 3-29                 [1, 256, 14, 14]          589,824
â”‚    â”‚    â””â”€BatchNorm2d: 3-30            [1, 256, 14, 14]          512
â”‚    â”‚    â””â”€Sequential: 3-31             [1, 256, 14, 14]          33,280
â”‚    â”‚    â””â”€ReLU: 3-32                   [1, 256, 14, 14]          --
â”‚    â””â”€BasicBlock: 2-6                   [1, 256, 14, 14]          --
â”‚    â”‚    â””â”€Conv2d: 3-33                 [1, 256, 14, 14]          589,824
â”‚    â”‚    â””â”€BatchNorm2d: 3-34            [1, 256, 14, 14]          512
â”‚    â”‚    â””â”€ReLU: 3-35                   [1, 256, 14, 14]          --
â”‚    â”‚    â””â”€Conv2d: 3-36                 [1, 256, 14, 14]          589,824
â”‚    â”‚    â””â”€BatchNorm2d: 3-37            [1, 256, 14, 14]          512
â”‚    â”‚    â””â”€ReLU: 3-38                   [1, 256, 14, 14]          --
â”œâ”€Sequential: 1-8                        [1, 512, 7, 7]            --
â”‚    â””â”€BasicBlock: 2-7                   [1, 512, 7, 7]            --
â”‚    â”‚    â””â”€Conv2d: 3-39                 [1, 512, 7, 7]            1,179,648
â”‚    â”‚    â””â”€BatchNorm2d: 3-40            [1, 512, 7, 7]            1,024
â”‚    â”‚    â””â”€ReLU: 3-41                   [1, 512, 7, 7]            --
â”‚    â”‚    â””â”€Conv2d: 3-42                 [1, 512, 7, 7]            2,359,296
â”‚    â”‚    â””â”€BatchNorm2d: 3-43            [1, 512, 7, 7]            1,024
â”‚    â”‚    â””â”€Sequential: 3-44             [1, 512, 7, 7]            132,096
â”‚    â”‚    â””â”€ReLU: 3-45                   [1, 512, 7, 7]            --
â”‚    â””â”€BasicBlock: 2-8                   [1, 512, 7, 7]            --
â”‚    â”‚    â””â”€Conv2d: 3-46                 [1, 512, 7, 7]            2,359,296
â”‚    â”‚    â””â”€BatchNorm2d: 3-47            [1, 512, 7, 7]            1,024
â”‚    â”‚    â””â”€ReLU: 3-48                   [1, 512, 7, 7]            --
â”‚    â”‚    â””â”€Conv2d: 3-49                 [1, 512, 7, 7]            2,359,296
â”‚    â”‚    â””â”€BatchNorm2d: 3-50            [1, 512, 7, 7]            1,024
â”‚    â”‚    â””â”€ReLU: 3-51                   [1, 512, 7, 7]            --
â”œâ”€AdaptiveAvgPool2d: 1-9                 [1, 512, 1, 1]            --
â”œâ”€Linear: 1-10                           [1, 1000]                 513,000
=========================================================================================
Total params: 11,689,512
Trainable params: 11,689,512
Non-trainable params: 0
Total mult-adds (G): 1.81
=========================================================================================
Input size (MB): 0.60
Forward/backward pass size (MB): 39.75
Params size (MB): 46.76
Estimated Total Size (MB): 87.11
=========================================================================================
</span></span></span></code></pre><div id="https://www.notion.so/0b3a27ba86984263ae23f577e6bcbd91" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æˆ‘ä»¬å¯ä»¥çœ‹åˆ°torchinfoæä¾›äº†æ›´åŠ è¯¦ç»†çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ¨¡å—ä¿¡æ¯ï¼ˆæ¯ä¸€å±‚çš„ç±»å‹ã€è¾“å‡ºshapeå’Œå‚æ•°é‡ï¼‰ã€æ¨¡å‹æ•´ä½“çš„å‚æ•°é‡ã€æ¨¡å‹å¤§å°ã€ä¸€æ¬¡å‰å‘æˆ–è€…åå‘ä¼ æ’­éœ€è¦çš„å†…å­˜å¤§å°ç­‰</span></span></p></div><div id="https://www.notion.so/fb72a8c199a4451788b5263e2ad188a0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">æ³¨æ„</strong></span><span class="SemanticString">ï¼š</span></span></p></div><div id="https://www.notion.so/1a796e9f9e4c4dc5b8befe2497ecf0d4" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ä½†ä½ ä½¿ç”¨çš„æ˜¯colabæˆ–è€…jupyter notebookæ—¶ï¼Œæƒ³è¦å®ç°è¯¥æ–¹æ³•ï¼Œ</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">summary()</code></span><span class="SemanticString">ä¸€å®šæ˜¯è¯¥å•å…ƒï¼ˆå³notebookä¸­çš„cellï¼‰çš„è¿”å›å€¼ï¼Œå¦åˆ™æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">print(summary(...))</code></span><span class="SemanticString">æ¥å¯è§†åŒ–ã€‚</span></span></p></div></article>
  <footer class="Footer">
  <div>&copy; Simonâ€™s Blogs 2022</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>